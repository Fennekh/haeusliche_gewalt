# Gemeinsame Daten für alle Tabs

# Funktion zum Laden der Daten, die in allen drei Tabs verwendet werden können
def load_data():
    # Daten aus der ursprünglichen Datei
    opfer_data = [
        {"year": 2009, "totalMale": 2319, "totalFemale": 7397, "ageGroups": {
            "male": {"<10": 178, "10-19": 276, "20-29": 364, "30-39": 491, "40-49": 555, "50-59": 287, "60-69": 121,
                     "70+": 47},
            "female": {"<10": 205, "10-19": 774, "20-29": 2016, "30-39": 2068, "40-49": 1570, "50-59": 522,
                       "60-69": 178,
                       "70+": 63}}},
        {"year": 2010, "totalMale": 2260, "totalFemale": 6973, "ageGroups": {
            "male": {"<10": 146, "10-19": 288, "20-29": 379, "30-39": 459, "40-49": 523, "50-59": 307, "60-69": 111,
                     "70+": 47},
            "female": {"<10": 172, "10-19": 726, "20-29": 1846, "30-39": 2006, "40-49": 1489, "50-59": 517,
                       "60-69": 139,
                       "70+": 78}}},
        {"year": 2011, "totalMale": 2030, "totalFemale": 6567, "ageGroups": {
            "male": {"<10": 176, "10-19": 209, "20-29": 332, "30-39": 431, "40-49": 450, "50-59": 250, "60-69": 130,
                     "70+": 51},
            "female": {"<10": 195, "10-19": 659, "20-29": 1878, "30-39": 1804, "40-49": 1350, "50-59": 477,
                       "60-69": 142,
                       "70+": 62}}},
        {"year": 2012, "totalMale": 2248, "totalFemale": 6701, "ageGroups": {
            "male": {"<10": 162, "10-19": 243, "20-29": 353, "30-39": 481, "40-49": 512, "50-59": 304, "60-69": 150,
                     "70+": 42},
            "female": {"<10": 167, "10-19": 665, "20-29": 1864, "30-39": 1875, "40-49": 1406, "50-59": 493,
                       "60-69": 151,
                       "70+": 79}}},
        {"year": 2013, "totalMale": 2365, "totalFemale": 7016, "ageGroups": {
            "male": {"<10": 165, "10-19": 259, "20-29": 386, "30-39": 518, "40-49": 520, "50-59": 333, "60-69": 128,
                     "70+": 55},
            "female": {"<10": 196, "10-19": 707, "20-29": 1897, "30-39": 1996, "40-49": 1452, "50-59": 531,
                       "60-69": 168,
                       "70+": 69}}},
        {"year": 2014, "totalMale": 2263, "totalFemale": 6708, "ageGroups": {
            "male": {"<10": 176, "10-19": 270, "20-29": 338, "30-39": 464, "40-49": 517, "50-59": 309, "60-69": 128,
                     "70+": 61},
            "female": {"<10": 224, "10-19": 675, "20-29": 1782, "30-39": 1925, "40-49": 1344, "50-59": 544,
                       "60-69": 147,
                       "70+": 66}}},
        {"year": 2015, "totalMale": 2511, "totalFemale": 7163, "ageGroups": {
            "male": {"<10": 196, "10-19": 327, "20-29": 433, "30-39": 527, "40-49": 496, "50-59": 340, "60-69": 134,
                     "70+": 58},
            "female": {"<10": 240, "10-19": 746, "20-29": 1797, "30-39": 2076, "40-49": 1477, "50-59": 566,
                       "60-69": 166,
                       "70+": 94}}},
        {"year": 2016, "totalMale": 2697, "totalFemale": 7344, "ageGroups": {
            "male": {"<10": 187, "10-19": 315, "20-29": 455, "30-39": 576, "40-49": 592, "50-59": 344, "60-69": 150,
                     "70+": 78},
            "female": {"<10": 245, "10-19": 813, "20-29": 1842, "30-39": 2125, "40-49": 1486, "50-59": 571,
                       "60-69": 153,
                       "70+": 109}}},
        {"year": 2017, "totalMale": 2706, "totalFemale": 7179, "ageGroups": {
            "male": {"<10": 251, "10-19": 339, "20-29": 410, "30-39": 605, "40-49": 511, "50-59": 372, "60-69": 147,
                     "70+": 70},
            "female": {"<10": 268, "10-19": 752, "20-29": 1719, "30-39": 2117, "40-49": 1453, "50-59": 618,
                       "60-69": 159,
                       "70+": 91}}},
        {"year": 2018, "totalMale": 3077, "totalFemale": 7576, "ageGroups": {
            "male": {"<10": 266, "10-19": 377, "20-29": 464, "30-39": 686, "40-49": 613, "50-59": 425, "60-69": 168,
                     "70+": 78},
            "female": {"<10": 277, "10-19": 812, "20-29": 1780, "30-39": 2219, "40-49": 1555, "50-59": 647,
                       "60-69": 184,
                       "70+": 100}}},
        {"year": 2019, "totalMale": 3109, "totalFemale": 7949, "ageGroups": {
            "male": {"<10": 274, "10-19": 381, "20-29": 453, "30-39": 714, "40-49": 625, "50-59": 410, "60-69": 176,
                     "70+": 76},
            "female": {"<10": 326, "10-19": 854, "20-29": 1877, "30-39": 2349, "40-49": 1562, "50-59": 694,
                       "60-69": 185,
                       "70+": 101}}},
        {"year": 2020, "totalMale": 3402, "totalFemale": 8106, "ageGroups": {
            "male": {"<10": 304, "10-19": 441, "20-29": 490, "30-39": 785, "40-49": 649, "50-59": 444, "60-69": 187,
                     "70+": 100},
            "female": {"<10": 345, "10-19": 882, "20-29": 1843, "30-39": 2395, "40-49": 1641, "50-59": 664,
                       "60-69": 215,
                       "70+": 120}}},
        {"year": 2021, "totalMale": 3329, "totalFemale": 7819, "ageGroups": {
            "male": {"<10": 316, "10-19": 450, "20-29": 460, "30-39": 744, "40-49": 643, "50-59": 401, "60-69": 210,
                     "70+": 104},
            "female": {"<10": 319, "10-19": 891, "20-29": 1719, "30-39": 2298, "40-49": 1566, "50-59": 666,
                       "60-69": 228,
                       "70+": 130}}},
        {"year": 2022, "totalMale": 3393, "totalFemale": 7996, "ageGroups": {
            "male": {"<10": 317, "10-19": 379, "20-29": 485, "30-39": 823, "40-49": 698, "50-59": 398, "60-69": 189,
                     "70+": 103},
            "female": {"<10": 314, "10-19": 877, "20-29": 1762, "30-39": 2445, "40-49": 1592, "50-59": 649,
                       "60-69": 217,
                       "70+": 139}}},
        {"year": 2023, "totalMale": 3435, "totalFemale": 8044, "ageGroups": {
            "male": {"<10": 315, "10-19": 418, "20-29": 505, "30-39": 793, "40-49": 688, "50-59": 444, "60-69": 190,
                     "70+": 81},
            "female": {"<10": 351, "10-19": 902, "20-29": 1648, "30-39": 2407, "40-49": 1726, "50-59": 659,
                       "60-69": 205,
                       "70+": 146}}},
        {"year": 2024, "totalMale": 3581, "totalFemale": 8268, "ageGroups": {
            "male": {"<10": 355, "10-19": 482, "20-29": 473, "30-39": 799, "40-49": 735, "50-59": 426, "60-69": 187,
                     "70+": 122},
            "female": {"<10": 354, "10-19": 972, "20-29": 1581, "30-39": 2455, "40-49": 1771, "50-59": 757,
                       "60-69": 212,
                       "70+": 164}}}
    ]

    taeter_data = [
        {"year": 2009, "totalMale": 7476, "totalFemale": 1772, "ageGroups": {
            "male": {"<10": 0, "10-19": 354, "20-29": 1709, "30-39": 2190, "40-49": 2022, "50-59": 859, "60-69": 254,
                     "70+": 84},
            "female": {"<10": 0, "10-19": 84, "20-29": 424, "30-39": 601, "40-49": 455, "50-59": 137, "60-69": 47,
                       "70+": 22}}},
        {"year": 2010, "totalMale": 6979, "totalFemale": 1757, "ageGroups": {
            "male": {"<10": 0, "10-19": 335, "20-29": 1553, "30-39": 1954, "40-49": 1908, "50-59": 871, "60-69": 259,
                     "70+": 95},
            "female": {"<10": 0, "10-19": 96, "20-29": 422, "30-39": 601, "40-49": 418, "50-59": 170, "60-69": 36,
                       "70+": 12}}},
        {"year": 2011, "totalMale": 6594, "totalFemale": 1614, "ageGroups": {
            "male": {"<10": 0, "10-19": 321, "20-29": 1518, "30-39": 1912, "40-49": 1733, "50-59": 769, "60-69": 257,
                     "70+": 81},
            "female": {"<10": 0, "10-19": 75, "20-29": 428, "30-39": 537, "40-49": 372, "50-59": 141, "60-69": 42,
                       "70+": 18}}},
        {"year": 2012, "totalMale": 6782, "totalFemale": 1765, "ageGroups": {
            "male": {"<10": 0, "10-19": 357, "20-29": 1571, "30-39": 1923, "40-49": 1799, "50-59": 773, "60-69": 263,
                     "70+": 91},
            "female": {"<10": 0, "10-19": 84, "20-29": 455, "30-39": 577, "40-49": 419, "50-59": 161, "60-69": 55,
                       "70+": 11}}},
        {"year": 2013, "totalMale": 7072, "totalFemale": 1881, "ageGroups": {
            "male": {"<10": 0, "10-19": 332, "20-29": 1566, "30-39": 2063, "40-49": 1852, "50-59": 883, "60-69": 276,
                     "70+": 90},
            "female": {"<10": 0, "10-19": 84, "20-29": 444, "30-39": 604, "40-49": 508, "50-59": 174, "60-69": 46,
                       "70+": 20}}},
        {"year": 2014, "totalMale": 6753, "totalFemale": 1856, "ageGroups": {
            "male": {"<10": 0, "10-19": 346, "20-29": 1467, "30-39": 1935, "40-49": 1745, "50-59": 846, "60-69": 286,
                     "70+": 118},
            "female": {"<10": 0, "10-19": 109, "20-29": 411, "30-39": 622, "40-49": 462, "50-59": 184, "60-69": 47,
                       "70+": 21}}},
        {"year": 2015, "totalMale": 7200, "totalFemale": 1996, "ageGroups": {
            "male": {"<10": 1, "10-19": 385, "20-29": 1513, "30-39": 2133, "40-49": 1815, "50-59": 923, "60-69": 311,
                     "70+": 116},
            "female": {"<10": 0, "10-19": 103, "20-29": 447, "30-39": 670, "40-49": 522, "50-59": 187, "60-69": 49,
                       "70+": 18}}},
        {"year": 2016, "totalMale": 7306, "totalFemale": 2272, "ageGroups": {
            "male": {"<10": 0, "10-19": 359, "20-29": 1555, "30-39": 2229, "40-49": 1796, "50-59": 967, "60-69": 281,
                     "70+": 113},
            "female": {"<10": 0, "10-19": 92, "20-29": 562, "30-39": 714, "40-49": 582, "50-59": 227, "60-69": 61,
                       "70+": 34}}},
        {"year": 2017, "totalMale": 7059, "totalFemale": 2263, "ageGroups": {
            "male": {"<10": 0, "10-19": 355, "20-29": 1433, "30-39": 2174, "40-49": 1734, "50-59": 961, "60-69": 299,
                     "70+": 97},
            "female": {"<10": 0, "10-19": 99, "20-29": 527, "30-39": 763, "40-49": 559, "50-59": 229, "60-69": 63,
                       "70+": 21}}},
        {"year": 2018, "totalMale": 7649, "totalFemale": 2416, "ageGroups": {
            "male": {"<10": 0, "10-19": 393, "20-29": 1532, "30-39": 2268, "40-49": 1922, "50-59": 1060, "60-69": 323,
                     "70+": 151},
            "female": {"<10": 0, "10-19": 86, "20-29": 551, "30-39": 792, "40-49": 618, "50-59": 256, "60-69": 79,
                       "70+": 34}}},
        {"year": 2019, "totalMale": 7893, "totalFemale": 2602, "ageGroups": {
            "male": {"<10": 1, "10-19": 416, "20-29": 1544, "30-39": 2424, "40-49": 1971, "50-59": 1044, "60-69": 346,
                     "70+": 144},
            "female": {"<10": 0, "10-19": 108, "20-29": 539, "30-39": 910, "40-49": 680, "50-59": 259, "60-69": 76,
                       "70+": 30}}},
        {"year": 2020, "totalMale": 8098, "totalFemale": 2781, "ageGroups": {
            "male": {"<10": 1, "10-19": 402, "20-29": 1487, "30-39": 2502, "40-49": 2077, "50-59": 1090, "60-69": 387,
                     "70+": 152},
            "female": {"<10": 1, "10-19": 123, "20-29": 582, "30-39": 987, "40-49": 664, "50-59": 294, "60-69": 85,
                       "70+": 43}}},
        {"year": 2021, "totalMale": 7717, "totalFemale": 2763, "ageGroups": {
            "male": {"<10": 0, "10-19": 347, "20-29": 1411, "30-39": 2457, "40-49": 1926, "50-59": 1025, "60-69": 376,
                     "70+": 173},
            "female": {"<10": 0, "10-19": 133, "20-29": 594, "30-39": 882, "40-49": 710, "50-59": 310, "60-69": 90,
                       "70+": 43}}},
        {"year": 2022, "totalMale": 7899, "totalFemale": 2839, "ageGroups": {
            "male": {"<10": 2, "10-19": 369, "20-29": 1379, "30-39": 2549, "40-49": 2042, "50-59": 1003, "60-69": 379,
                     "70+": 175},
            "female": {"<10": 0, "10-19": 124, "20-29": 565, "30-39": 1005, "40-49": 722, "50-59": 324, "60-69": 61,
                       "70+": 38}}},
        {"year": 2023, "totalMale": 7942, "totalFemale": 2851, "ageGroups": {
            "male": {"<10": 1, "10-19": 382, "20-29": 1353, "30-39": 2469, "40-49": 2129, "50-59": 1033, "60-69": 392,
                     "70+": 182},
            "female": {"<10": 0, "10-19": 112, "20-29": 553, "30-39": 988, "40-49": 778, "50-59": 303, "60-69": 85,
                       "70+": 32}}},
        {"year": 2024, "totalMale": 8135, "totalFemale": 2906, "ageGroups": {
            "male": {"<10": 1, "10-19": 366, "20-29": 1307, "30-39": 2545, "40-49": 2236, "50-59": 1103, "60-69": 386,
                     "70+": 191},
            "female": {"<10": 0, "10-19": 116, "20-29": 529, "30-39": 1024, "40-49": 760, "50-59": 328, "60-69": 103,
                       "70+": 46}}}
    ]

    import pandas as pd
    
    # Opfer nach Jahr und Geschlecht
    opfer_yearly = pd.DataFrame([(item['year'], item['totalMale'], item['totalFemale'])
                                for item in opfer_data],
                                columns=['Jahr', 'Männliche Opfer', 'Weibliche Opfer'])

    # Täter nach Jahr und Geschlecht
    taeter_yearly = pd.DataFrame([(item['year'], item['totalMale'], item['totalFemale'])
                                for item in taeter_data],
                                columns=['Jahr', 'Männliche Täter', 'Weibliche Täter'])

    # Altersgruppen für alle Jahre
    opfer_age_all_years = []
    taeter_age_all_years = []

    for data in opfer_data:
        year = data['year']
        for gender, gender_label in [('male', 'Männlich'), ('female', 'Weiblich')]:
            for age_group, count in data['ageGroups'][gender].items():
                opfer_age_all_years.append((year, gender_label, age_group, count))

    for data in taeter_data:
        year = data['year']
        for gender, gender_label in [('male', 'Männlich'), ('female', 'Weiblich')]:
            for age_group, count in data['ageGroups'][gender].items():
                taeter_age_all_years.append((year, gender_label, age_group, count))

    opfer_age_df = pd.DataFrame(opfer_age_all_years, columns=['Jahr', 'Geschlecht', 'Altersgruppe', 'Anzahl'])
    taeter_age_df = pd.DataFrame(taeter_age_all_years, columns=['Jahr', 'Geschlecht', 'Altersgruppe', 'Anzahl'])

    # Altersgruppensortierung festlegen
    age_order = ['<10', '10-19', '20-29', '30-39', '40-49', '50-59', '60-69', '70+']
    opfer_age_df['Altersgruppe'] = pd.Categorical(opfer_age_df['Altersgruppe'], categories=age_order, ordered=True)
    taeter_age_df['Altersgruppe'] = pd.Categorical(taeter_age_df['Altersgruppe'], categories=age_order, ordered=True)
    
    return {
        'opfer_data': opfer_data,
        'taeter_data': taeter_data,
        'opfer_yearly': opfer_yearly,
        'taeter_yearly': taeter_yearly,
        'opfer_age_df': opfer_age_df,
        'taeter_age_df': taeter_age_df,
        'age_order': age_order
    }
